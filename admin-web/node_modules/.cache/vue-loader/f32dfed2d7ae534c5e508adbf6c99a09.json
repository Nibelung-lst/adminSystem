{"remainingRequest":"C:\\ttt6-luckinsho2\\admin-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\ttt6-luckinsho2\\admin-web\\src\\views\\UserStatistics.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\ttt6-luckinsho2\\admin-web\\src\\views\\UserStatistics.vue","mtime":1574242229195},{"path":"C:\\ttt6-luckinsho2\\admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\ttt6-luckinsho2\\admin-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\ttt6-luckinsho2\\admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\ttt6-luckinsho2\\admin-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBnZXRBbGxSZWdpc3RlclllYXJzLCBjb3VudFJlZ2lzdGVyVXNlckJ5TW91bnQsIGdldEFsbExvZ2luWWVhcnMsIGNvdW50TG9naW5Vc2VyQnlEYXkgfSBmcm9tICcuLi9hcGkvdXNlci5qcycNCmltcG9ydCBlY2hhcnRzIGZyb20gJ2VjaGFydHMnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICd1c2VyU3RhdGlzdGljcycsDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICB5ZWFyUmVnaXN0ZXI6IG51bGwsDQogICAgICBtb250aFJlZ2lzdGVyOiBbXSwNCiAgICAgIGNvdW50UmVnaXN0ZXI6IFtdLA0KICAgICAgeWVhclJlZ2lzdGVyT3B0aW9uczogW10sDQogICAgICB5ZWFyTG9naW46IG51bGwsDQogICAgICBtb250aExvZ2luOiBudWxsLA0KICAgICAgZGF5TG9naW46IFtdLA0KICAgICAgY291bnRMb2dpbiA6IFtdLA0KICAgICAgeWVhckxvZ2luT3B0aW9uczogW10sDQogICAgICBtb250aExvZ2luT3B0aW9uczogWw0KICAgICAgICB7DQogICAgICAgICAgdmFsdWU6ICcxJywNCiAgICAgICAgICBsYWJlbDogJzHmnIgnDQogICAgICAgIH0sew0KICAgICAgICAgIHZhbHVlOiAnMicsDQogICAgICAgICAgbGFiZWw6ICcy5pyIJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdmFsdWU6ICczJywNCiAgICAgICAgICBsYWJlbDogJzPmnIgnDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB2YWx1ZTogJzQnLA0KICAgICAgICAgIGxhYmVsOiAnNOaciCcNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiAnNScsDQogICAgICAgICAgbGFiZWw6ICc15pyIJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdmFsdWU6ICc2JywNCiAgICAgICAgICBsYWJlbDogJzbmnIgnDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB2YWx1ZTogJzcnLA0KICAgICAgICAgIGxhYmVsOiAnN+aciCcNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiAnOCcsDQogICAgICAgICAgbGFiZWw6ICc45pyIJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdmFsdWU6ICc5JywNCiAgICAgICAgICBsYWJlbDogJznmnIgnDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB2YWx1ZTogJzEwJywNCiAgICAgICAgICBsYWJlbDogJzEw5pyIJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdmFsdWU6ICcxMScsDQogICAgICAgICAgbGFiZWw6ICcxMeaciCcNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiAnMTInLA0KICAgICAgICAgIGxhYmVsOiAnMTLmnIgnDQogICAgICAgIH0NCiAgICAgIF0NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQgKCkgew0KICAgIHRoaXMuaW5pdCgpDQogIH0sDQogIG1vdW50ZWQgKCkgew0KICAgIHRoaXMuX2xvYWREYXRhUmVnaXN0ZXIoKQ0KICAgIHRoaXMuX2xvYWREYXRhTG9naW4oKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaW5pdCgpew0KICAgICAgdmFyIG15RGF0ZSA9IG5ldyBEYXRlOw0KICAgICAgdmFyIHllYXIgPSBteURhdGUuZ2V0RnVsbFllYXIoKTsNCiAgICAgIHZhciBtb250aCA9IG15RGF0ZS5nZXRNb250aCgpKzE7DQogICAgICB2YXIgZGF5ID0gbXlEYXRlLmdldERhdGUoKTsNCiAgICAgIHRoaXMueWVhclJlZ2lzdGVyID0geWVhcg0KICAgICAgdGhpcy55ZWFyTG9naW4gPSB5ZWFyDQogICAgICB0aGlzLm1vbnRoTG9naW4gPSBtb250aA0KICAgIH0sDQogICAgLy8g5Yid5aeL5YyW5rOo5YaM57uf6K6hDQogICAgX2xvYWREYXRhUmVnaXN0ZXIgKCkgew0KICAgICAgZ2V0QWxsUmVnaXN0ZXJZZWFycygpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAwICYmIHJlcy5kYXRhICE9IG51bGwpIHsNCiAgICAgICAgICBsZXQgaSA9IDANCiAgICAgICAgICBsZXQgYXJyID0gW10NCiAgICAgICAgICByZXMuZGF0YS5mb3JFYWNoIChlID0+IHsNCiAgICAgICAgICAgIGxldCBpdGVtID0gew0KICAgICAgICAgICAgICB2YWx1ZTogaSwNCiAgICAgICAgICAgICAgbGFiZWw6IGUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGkgKz0gMQ0KICAgICAgICAgICAgYXJyLnB1c2goaXRlbSkNCiAgICAgICAgICB9KQ0KICAgICAgICAgIHRoaXMueWVhclJlZ2lzdGVyT3B0aW9ucyA9IGFycg0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgbGV0IHBhcmFtcyA9bmV3IFVSTFNlYXJjaFBhcmFtcw0KICAgICAgcGFyYW1zLmFwcGVuZCgneWVhcicsdGhpcy55ZWFyUmVnaXN0ZXIpDQogICAgICBjb3VudFJlZ2lzdGVyVXNlckJ5TW91bnQocGFyYW1zKS50aGVuKCByZXMgPT4gew0KICAgICAgICBpZiAocmVzLmNvZGUgPT09IDAgJiYgcmVzLmRhdGEgIT0gbnVsbCkgew0KICAgICAgICAgIGxldCBtb250aEFyciA9IFtdDQogICAgICAgICAgbGV0IGNvdW50QXJyID0gW10NCiAgICAgICAgICByZXMuZGF0YS5mb3JFYWNoIChlID0+IHsNCiAgICAgICAgICAgIG1vbnRoQXJyLnB1c2goZS5tb250aCsn5pyIJykNCiAgICAgICAgICAgIGNvdW50QXJyLnB1c2goZS5jb3VudCkNCiAgICAgICAgICB9KQ0KICAgICAgICAgIHRoaXMubW9udGhSZWdpc3RlciA9IG1vbnRoQXJyDQogICAgICAgICAgdGhpcy5jb3VudFJlZ2lzdGVyID0gY291bnRBcnINCiAgICAgICAgICB0aGlzLnNob3dSZWdpc3RlckVjaGFydCgpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICAvLyDliJ3lp4vljJbnmbvlvZXnu5/orqENCiAgICBfbG9hZERhdGFMb2dpbiAoKSB7DQogICAgICBnZXRBbGxMb2dpblllYXJzKCkudGhlbihyZXMgPT4gew0KICAgICAgICBpZiAocmVzLmNvZGUgPT09IDAgJiYgcmVzLmRhdGEgIT0gbnVsbCkgew0KICAgICAgICAgIGxldCBpID0gMA0KICAgICAgICAgIGxldCBhcnIgPSBbXQ0KICAgICAgICAgIHJlcy5kYXRhLmZvckVhY2ggKGUgPT4gew0KICAgICAgICAgICAgbGV0IGl0ZW0gPSB7DQogICAgICAgICAgICAgIHZhbHVlOiBpLA0KICAgICAgICAgICAgICBsYWJlbDogZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaSArPSAxDQogICAgICAgICAgICBhcnIucHVzaChpdGVtKQ0KICAgICAgICAgIH0pDQogICAgICAgICAgdGhpcy55ZWFyTG9naW5PcHRpb25zID0gYXJyDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICBsZXQgcGFyYW1zID0gew0KICAgICAgICB5ZWFyOiB0aGlzLnllYXJMb2dpbiwNCiAgICAgICAgbW9udGg6IHRoaXMubW9udGhMb2dpbg0KICAgICAgfQ0KICAgICAgY291bnRMb2dpblVzZXJCeURheShwYXJhbXMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAwICYmIHJlcy5kYXRhICE9IG51bGwpIHsNCiAgICAgICAgICBsZXQgZGF5QXJyID0gW10NCiAgICAgICAgICBsZXQgY291bnRBcnIgPSBbXQ0KICAgICAgICAgIHJlcy5kYXRhLmZvckVhY2ggKGUgPT4gew0KICAgICAgICAgICAgZGF5QXJyLnB1c2goZS5kYXkrJ+aXpScpDQogICAgICAgICAgICBjb3VudEFyci5wdXNoKGUuY291bnQpDQogICAgICAgICAgfSkNCiAgICAgICAgICB0aGlzLmRheUxvZ2luID0gZGF5QXJyDQogICAgICAgICAgdGhpcy5jb3VudExvZ2luID0gY291bnRBcnINCiAgICAgICAgICB0aGlzLnNob3dMb2dpbkVjaGFydCgpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBoYW5kbGVSZWdpc3RlclNlbGVjdCAoKSB7DQogICAgICB0aGlzLnllYXJSZWdpc3RlciA9IHRoaXMueWVhclJlZ2lzdGVyDQogICAgICB0aGlzLl9sb2FkRGF0YVJlZ2lzdGVyKCkNCiAgICB9LA0KICAgIGhhbmRsZUxvZ2luU2VsZWN0ICgpIHsNCiAgICAgIHRoaXMueWVhckxvZ2luID0gdGhpcy55ZWFyTG9naW4NCiAgICAgIHRoaXMubW9udGhMb2dpbiA9IHRoaXMubW9udGhMb2dpbg0KICAgICAgdGhpcy5fbG9hZERhdGFMb2dpbigpDQogICAgfSwNCiAgICBzaG93UmVnaXN0ZXJFY2hhcnQgKCkgew0KICAgICAgdGhpcy5jaGFydHMgPSBlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvdW50UmVnaXN0ZXInKSkNCiAgICAgIHRoaXMuY2hhcnRzLnNldE9wdGlvbih7DQogICAgICAgICAgICB4QXhpczogew0KICAgICAgICAgICAgdHlwZTogJ2NhdGVnb3J5JywNCiAgICAgICAgICAgIGRhdGE6IHRoaXMubW9udGhSZWdpc3Rlcg0KICAgICAgICB9LA0KICAgICAgICB5QXhpczogew0KICAgICAgICAgICAgdHlwZTogJ3ZhbHVlJw0KICAgICAgICB9LA0KICAgICAgICBzZXJpZXM6IFt7DQogICAgICAgICAgICBkYXRhOiB0aGlzLmNvdW50UmVnaXN0ZXIsDQogICAgICAgICAgICB0eXBlOiAnbGluZScsDQogICAgICAgICAgICBzeW1ib2w6ICd0cmlhbmdsZScsDQogICAgICAgICAgICBzeW1ib2xTaXplOiAyMCwNCiAgICAgICAgICAgIGxpbmVTdHlsZTogew0KICAgICAgICAgICAgICAgIG5vcm1hbDogew0KICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2dyZWVuJywNCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDQsDQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkYXNoZWQnDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGl0ZW1TdHlsZTogew0KICAgICAgICAgICAgICAgIG5vcm1hbDogew0KICAgICAgICAgICAgICAgICAgICBib3JkZXJXaWR0aDogMywNCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICd5ZWxsb3cnLA0KICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9XQ0KICAgICAgfSkNCiAgICB9LA0KICAgIHNob3dMb2dpbkVjaGFydCAoKSB7DQogICAgICB0aGlzLmNoYXJ0cyA9IGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY291bnRMb2dpbicpKQ0KICAgICAgdGhpcy5jaGFydHMuc2V0T3B0aW9uKHsNCiAgICAgICAgeEF4aXM6IHsNCiAgICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsDQogICAgICAgICAgICBkYXRhOiB0aGlzLmRheUxvZ2luDQogICAgICAgIH0sDQogICAgICAgIHlBeGlzOiB7DQogICAgICAgICAgICB0eXBlOiAndmFsdWUnDQogICAgICAgIH0sDQogICAgICAgIHNlcmllczogW3sNCiAgICAgICAgICAgIGRhdGE6IHRoaXMuY291bnRMb2dpbiwNCiAgICAgICAgICAgIHR5cGU6ICdiYXInDQogICAgICAgIH1dDQogICAgICB9KQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["UserStatistics.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserStatistics.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <main>\r\n    <el-card>\r\n      <div slot=\"header\" class=\"clearfix\" style=\"margin-bottom:30px;\">\r\n        <span style=\"float:left; font-weight: bolder\">每日登录量统计</span>\r\n        <div style=\"float:right;\">\r\n          <el-form :inline=\"true\" size=\"small\" style=\"float:left;\">\r\n            <!-- 状态选择 -->\r\n            <el-form-item style=\"margin-left:20px; width:150px;\">\r\n              <el-select v-model.trim.lazy=\"yearLogin\" placeholder=\"选择年份\">\r\n                <el-option\r\n                  v-for=\"item in yearLoginOptions\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.label\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item style=\"margin-left:20px; width:150px;\">\r\n                <el-select v-model.trim.lazy=\"monthLogin\" placeholder=\"选择月份\">\r\n                  <el-option\r\n                    v-for=\"item in monthLoginOptions\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\">\r\n                  </el-option>\r\n                </el-select>\r\n              </el-form-item>\r\n            <!-- 查询按钮按钮 -->\r\n            <el-form-item>\r\n              <el-button-group>\r\n                <el-button type=\"primary\" @click=\"handleLoginSelect()\">查询</el-button>\r\n              </el-button-group>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </div>\r\n      <div :span=\"24\" id=\"countLogin\" style=\"height: 300px\"></div>\r\n    </el-card>\r\n    <el-card style=\"margin-top: 20px\">\r\n      <div slot=\"header\" class=\"clearfix\" style=\"margin-bottom:30px;\">\r\n        <span style=\"float:left; font-weight: bolder\">每月注册量统计</span>\r\n        <div style=\"float:right;\">\r\n          <el-form :inline=\"true\" size=\"small\" style=\"float:left;\">\r\n            <!-- 状态选择 -->\r\n            <el-form-item style=\"margin-left:20px; width:150px;\">\r\n              <el-select v-model.trim.lazy=\"yearRegister\" placeholder=\"选择年份\">\r\n                <el-option\r\n                  v-for=\"item in yearRegisterOptions\"\r\n                  :key=\"item.value\"\r\n                  :label=\"item.label\"\r\n                  :value=\"item.label\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <!-- 查询按钮按钮 -->\r\n            <el-form-item>\r\n              <el-button-group>\r\n                <el-button type=\"primary\" @click=\"handleRegisterSelect()\">查询</el-button>\r\n              </el-button-group>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </div>\r\n      <div :span=\"24\" id=\"countRegister\" style=\"height: 300px\"></div>\r\n    </el-card>\r\n  </main>\r\n</template>\r\n\r\n<script>\r\nimport { getAllRegisterYears, countRegisterUserByMount, getAllLoginYears, countLoginUserByDay } from '../api/user.js'\r\nimport echarts from 'echarts'\r\nexport default {\r\n  name: 'userStatistics',\r\n  data () {\r\n    return {\r\n      yearRegister: null,\r\n      monthRegister: [],\r\n      countRegister: [],\r\n      yearRegisterOptions: [],\r\n      yearLogin: null,\r\n      monthLogin: null,\r\n      dayLogin: [],\r\n      countLogin : [],\r\n      yearLoginOptions: [],\r\n      monthLoginOptions: [\r\n        {\r\n          value: '1',\r\n          label: '1月'\r\n        },{\r\n          value: '2',\r\n          label: '2月'\r\n        },\r\n        {\r\n          value: '3',\r\n          label: '3月'\r\n        },\r\n        {\r\n          value: '4',\r\n          label: '4月'\r\n        },\r\n        {\r\n          value: '5',\r\n          label: '5月'\r\n        },\r\n        {\r\n          value: '6',\r\n          label: '6月'\r\n        },\r\n        {\r\n          value: '7',\r\n          label: '7月'\r\n        },\r\n        {\r\n          value: '8',\r\n          label: '8月'\r\n        },\r\n        {\r\n          value: '9',\r\n          label: '9月'\r\n        },\r\n        {\r\n          value: '10',\r\n          label: '10月'\r\n        },\r\n        {\r\n          value: '11',\r\n          label: '11月'\r\n        },\r\n        {\r\n          value: '12',\r\n          label: '12月'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  created () {\r\n    this.init()\r\n  },\r\n  mounted () {\r\n    this._loadDataRegister()\r\n    this._loadDataLogin()\r\n  },\r\n  methods: {\r\n    init(){\r\n      var myDate = new Date;\r\n      var year = myDate.getFullYear();\r\n      var month = myDate.getMonth()+1;\r\n      var day = myDate.getDate();\r\n      this.yearRegister = year\r\n      this.yearLogin = year\r\n      this.monthLogin = month\r\n    },\r\n    // 初始化注册统计\r\n    _loadDataRegister () {\r\n      getAllRegisterYears().then(res => {\r\n        if (res.code === 0 && res.data != null) {\r\n          let i = 0\r\n          let arr = []\r\n          res.data.forEach (e => {\r\n            let item = {\r\n              value: i,\r\n              label: e\r\n            }\r\n            i += 1\r\n            arr.push(item)\r\n          })\r\n          this.yearRegisterOptions = arr\r\n        }\r\n      })\r\n      let params =new URLSearchParams\r\n      params.append('year',this.yearRegister)\r\n      countRegisterUserByMount(params).then( res => {\r\n        if (res.code === 0 && res.data != null) {\r\n          let monthArr = []\r\n          let countArr = []\r\n          res.data.forEach (e => {\r\n            monthArr.push(e.month+'月')\r\n            countArr.push(e.count)\r\n          })\r\n          this.monthRegister = monthArr\r\n          this.countRegister = countArr\r\n          this.showRegisterEchart()\r\n        }\r\n      })\r\n    },\r\n    // 初始化登录统计\r\n    _loadDataLogin () {\r\n      getAllLoginYears().then(res => {\r\n        if (res.code === 0 && res.data != null) {\r\n          let i = 0\r\n          let arr = []\r\n          res.data.forEach (e => {\r\n            let item = {\r\n              value: i,\r\n              label: e\r\n            }\r\n            i += 1\r\n            arr.push(item)\r\n          })\r\n          this.yearLoginOptions = arr\r\n        }\r\n      })\r\n      let params = {\r\n        year: this.yearLogin,\r\n        month: this.monthLogin\r\n      }\r\n      countLoginUserByDay(params).then(res => {\r\n        if (res.code === 0 && res.data != null) {\r\n          let dayArr = []\r\n          let countArr = []\r\n          res.data.forEach (e => {\r\n            dayArr.push(e.day+'日')\r\n            countArr.push(e.count)\r\n          })\r\n          this.dayLogin = dayArr\r\n          this.countLogin = countArr\r\n          this.showLoginEchart()\r\n        }\r\n      })\r\n    },\r\n    handleRegisterSelect () {\r\n      this.yearRegister = this.yearRegister\r\n      this._loadDataRegister()\r\n    },\r\n    handleLoginSelect () {\r\n      this.yearLogin = this.yearLogin\r\n      this.monthLogin = this.monthLogin\r\n      this._loadDataLogin()\r\n    },\r\n    showRegisterEchart () {\r\n      this.charts = echarts.init(document.getElementById('countRegister'))\r\n      this.charts.setOption({\r\n            xAxis: {\r\n            type: 'category',\r\n            data: this.monthRegister\r\n        },\r\n        yAxis: {\r\n            type: 'value'\r\n        },\r\n        series: [{\r\n            data: this.countRegister,\r\n            type: 'line',\r\n            symbol: 'triangle',\r\n            symbolSize: 20,\r\n            lineStyle: {\r\n                normal: {\r\n                    color: 'green',\r\n                    width: 4,\r\n                    type: 'dashed'\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    borderWidth: 3,\r\n                    borderColor: 'yellow',\r\n                    color: 'blue'\r\n                }\r\n            }\r\n        }]\r\n      })\r\n    },\r\n    showLoginEchart () {\r\n      this.charts = echarts.init(document.getElementById('countLogin'))\r\n      this.charts.setOption({\r\n        xAxis: {\r\n            type: 'category',\r\n            data: this.dayLogin\r\n        },\r\n        yAxis: {\r\n            type: 'value'\r\n        },\r\n        series: [{\r\n            data: this.countLogin,\r\n            type: 'bar'\r\n        }]\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>"]}]}
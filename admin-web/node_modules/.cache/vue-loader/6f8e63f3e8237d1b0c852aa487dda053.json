{"remainingRequest":"C:\\system\\admin-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\system\\admin-web\\src\\components\\marketing\\Addstaff.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\system\\admin-web\\src\\components\\marketing\\Addstaff.vue","mtime":1585284272897},{"path":"C:\\system\\admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\system\\admin-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\system\\admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\system\\admin-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhZGRDb3Vwb24gfSBmcm9tICcuLi8uLi9hcGkvbWFya2V0aW5nJw0KaW1wb3J0IHsgZ2V0QWxsQ2F0ZWdvcnlUcmVlLGdldFByb2R1Y3RCeUtleVdvcmQgfSBmcm9tICdAL2FwaS9wcm9kdWN0Jw0KaW1wb3J0IHt0ZXN0fSBmcm9tICIuLi8uLi9hcGkvYWRtaW4iOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnQWRkc3RhZmYnLA0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgICBhcnI6W10sDQogICAgICAgIHJ1bGVzOiB7DQogICAgICAgICAgICBuYW1lOiBbDQogICAgICAgICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5ZGY5bel5ZCN56ewJywgdHJpZ2dlcjogJ2JsdXInfSwNCiAgICAgICAgICAgICAgICB7bWluOiAyLCBtYXg6IDE0MCwgbWVzc2FnZTogJ+mVv+W6puWcqCAyIOWIsCAxNDAg5Liq5a2X56ymJywgdHJpZ2dlcjogJ2JsdXInfQ0KICAgICAgICAgICAgXSwNCiAgICAgICAgICBlbWFpbDogWyB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl6YKu566xIiwgdHJpZ2dlcjogImJsdXIiIH0sDQogICAgICAgICAgICAgICAgICAgeyBwYXR0ZXJuOi9eKFswLTlBLVphLXpcLV9cLl0rKUAoWzAtOWEtel0rXC5bYS16XXsyLDN9KFwuW2Etel17Mn0pPykkL2csIG1lc3NhZ2U6ICLor7fovpPlhaXmraPnoa7nmoTpgq7nrrEiLCB0cmlnZ2VyOiAiYmx1ciJ9DQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgYW1vdW50OiBbDQogICAgICAgICAgICAgICAge3R5cGU6ICdudW1iZXInLHJlcXVpcmVkOiB0cnVlLG1lc3NhZ2U6ICfpnaLlgLzlj6rog73mmK/mlbDlgLzvvIzpmZAy5L2N5bCP5pWwJyx0cmlnZ2VyOiAnYmx1cid9DQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgbWluQW1vdW50OiBbDQogICAgICAgICAgICAgICAge3R5cGU6ICdudW1iZXInLHJlcXVpcmVkOiB0cnVlLG1lc3NhZ2U6ICflj6rog73ovpPlhaXmraPmlbTmlbAnLHRyaWdnZXI6ICdibHVyJ30NCiAgICAgICAgICAgIF0NCiAgICAgICAgfSwNCiAgICAgIHVzZVR5cGVPcHRpb25zOiBbDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogJ+mXqOW6l+S4u+euoScsDQogICAgICAgICAgdmFsdWU6IDENCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGxhYmVsOiAn5q2j5byP5ZGY5belJywNCiAgICAgICAgICB2YWx1ZTogMg0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6ICflrp7kuaDlkZjlt6UnLA0KICAgICAgICAgIHZhbHVlOiAzDQogICAgICAgIH0NCiAgICAgIF0sDQogICAgICAgIGxhYmVsT3B0aW9uczpbDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgbGFiZWw6J+azqOWGjCcsDQogICAgICAgICAgICAgICAgdmFsdWU6J3JlZ2lzdGVyJw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBsYWJlbDon6LSt54mpJywNCiAgICAgICAgICAgICAgICB2YWx1ZTonc2hvcHBpbmcnDQogICAgICAgICAgICB9DQogICAgICAgIF0sDQogICAgICB0eXBlT3B0aW9uczogWw0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6ICfnlKjmiLfpooblj5YnLA0KICAgICAgICAgIHZhbHVlOiAxDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogJ+WQjuWPsOi1oOmAgScsDQogICAgICAgICAgdmFsdWU6IDINCiAgICAgICAgfSwNCiAgICAgIF0sDQogICAgICBzdGF0dXNPcHRpb25zOiBbDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogJ+S4iue6vycsDQogICAgICAgICAgdmFsdWU6IDENCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGxhYmVsOiAn5LiL57q/JywNCiAgICAgICAgICB2YWx1ZTogMg0KICAgICAgICB9DQogICAgICBdLA0KICAgICAgZW1wbG95ZWVJbmZvcm1hdGlvbjogew0KICAgICAgICAgIG5hbWU6JycsDQogICAgICAgICAgZW1haWw6JycsDQogICAgICAgICAgcGFzc3dvcmQ6JycsDQogICAgICAgICAgcGhvbmU6JycsDQogICAgICAgICAgYWRkcmVzczonJw0KICAgICAgfSwNCiAgICAgIHNlbGVjdENhdGVnb3J5OiB7DQogICAgICAgICAgY2F0ZWdvcnlDb2RlOicnLA0KICAgICAgICAgIGNhdGVnb3J5TmFtZTogJycNCiAgICAgIH0sDQogICAgICBzZWxlY3RQcm9kdWN0OiB7fSwNCiAgICAgIGNhdGVnb3J5T3B0aW9uczogW10sDQogICAgICAgIHNlbGVjdFByb2R1Y3RMb2FkaW5nOiBmYWxzZSwNCiAgICAgICAgc2VsZWN0UHJvZHVjdE9wdGlvbnMgOiBbXQ0KDQogICAgfQ0KICB9LA0KICBtb3VudGVkKCl7DQogICAgICB0aGlzLmhhbmRsZVNob3dCdXR0b24oKTsNCiAgICAgIHRoaXMuaGFuZGxlR2V0Q2F0ZWdvcnlMaXN0KCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICB0ZXN0MSgpew0KICAgICAgdGVzdCgpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHJlcyk7DQogICAgICB9KQ0KICAgIH0sDQogICAgICBoYW5kbGVTaG93QnV0dG9uKCl7DQogICAgICAgICAgdGhpcy5hcnIgPSAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oIkJ1dHRvbkxpc3QiKTsNCiAgICAgIH0sDQogICAgaGFuZGxlU3VibWl0ICgpIHsNCiAgICAgIGxldCBwYXJhbXMgPSB0aGlzLmFkZENvdXBvbkZvcm0NCiAgICAgIGNvbnNvbGUubG9nKCdra2FuJykNCiAgICAgIGNvbnNvbGUubG9nKHBhcmFtcykNCiAgICAgIGFkZENvdXBvbihwYXJhbXMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAwKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICBtZXNzYWdlOiAn5paw5aKe5oiQ5YqfJywNCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJw0KICAgICAgICAgIH0pDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICBtZXNzYWdlOiAn5re75Yqg5aSx6LSlJywNCiAgICAgICAgICAgIHR5cGU6ICdmYWlsJw0KICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCiAgICBoYW5kbGVHZXRDYXRlZ29yeUxpc3QoKXsNCiAgICAgICAgZ2V0QWxsQ2F0ZWdvcnlUcmVlKCkudGhlbihyZXM9PnsNCiAgICAgICAgICAgICAgICBsZXQgbGlzdCA9IHJlcy5kYXRhOw0KICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcnlPcHRpb25zID0gW107DQogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgIGxldCBjaGlsZHJlbiA9IFtdOw0KICAgICAgICAgICAgICAgICAgICBpZiAobGlzdFtpXS5jaGlsZHJlbiAhPSBudWxsICYmIGxpc3RbaV0uY2hpbGRyZW4ubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsaXN0W2ldLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4ucHVzaCh7bGFiZWw6IGxpc3RbaV0uY2hpbGRyZW5bal0uY2F0ZWdvcnlOYW1lLCB2YWx1ZTogbGlzdFtpXS5jaGlsZHJlbltqXS5jYXRlZ29yeUNvZGV9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3J5T3B0aW9ucy5wdXNoKHtsYWJlbDogbGlzdFtpXS5jYXRlZ29yeU5hbWUsIHZhbHVlOiBsaXN0W2ldLmNhdGVnb3J5Q29kZSwgY2hpbGRyZW46IGNoaWxkcmVufSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgIH0sDQogICAgc2VhcmNoUHJvZHVjdE1ldGhvZCAocXVlcnkpIHsNCiAgICAgIGlmIChxdWVyeSAhPT0gJycpIHsNCiAgICAgICAgdGhpcy5zZWxlY3RQcm9kdWN0TG9hZGluZyA9IHRydWUNCiAgICAgICAgLy8g6YCa6L+H5ZWG5ZOB5ZCN56ew5oiWc3B1Q29kZeaQnOe0ouWVhuWTgQ0KICAgICAgICAgIGxldCBwYXJhbXM9ICJrZXlXb3JkPSIrcXVlcnkNCiAgICAgICAgICBnZXRQcm9kdWN0QnlLZXlXb3JkKHBhcmFtcykudGhlbihyZXM9PnsNCiAgICAgICAgICAgICAgdGhpcy5zZWxlY3RQcm9kdWN0TG9hZGluZz1mYWxzZTsNCiAgICAgICAgICAgICAgbGV0IHByb2R1Y3RMaXN0ID0gcmVzLmRhdGE7DQogICAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8cHJvZHVjdExpc3QubGVuZ3RoO2krKyl7DQogICAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IHByb2R1Y3RMaXN0W2ldOw0KICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RQcm9kdWN0T3B0aW9ucy5wdXNoKHtzcHVDb2RlOml0ZW0uc3B1Q29kZSxzcHVOYW1lOml0ZW0uc3B1TmFtZX0pOw0KDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3RQcm9kdWN0T3B0aW9ucykNCiAgICAgICAgICB9KQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5zZWxlY3RQcm9kdWN0T3B0aW9ucyA9IFtdDQogICAgICB9DQogICAgfSwNCiAgICBoYW5kbGVBZGRDYXRlZ29yeSAoKSB7DQogICAgICB0aGlzLmFkZENvdXBvbkZvcm0udXNlUmFuZ2VDb2RlID0gdGhpcy5zZWxlY3RDYXRlZ29yeVsxXQ0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdENhdGVnb3J5WzFdKQ0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2F0ZWdvcnlPcHRpb25zLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICBpZiAodGhpcy5jYXRlZ29yeU9wdGlvbnNbaV0udmFsdWUgPT09IHRoaXMuc2VsZWN0Q2F0ZWdvcnlbMF0pIHsNCiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuY2F0ZWdvcnlPcHRpb25zW2ldLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhdGVnb3J5T3B0aW9uc1tpXS5jaGlsZHJlbltqXS52YWx1ZSA9PT0gdGhpcy5zZWxlY3RDYXRlZ29yeVsxXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRDb3Vwb25Gb3JtLnVzZVJhbmdlTmFtZSA9IHRoaXMuY2F0ZWdvcnlPcHRpb25zW2ldLmNoaWxkcmVuW2pdLmxhYmVsOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYWRkQ291cG9uRm9ybSkNCiAgICB9LA0KICAgIGhhbmRsZUFkZFByb2R1Y3QgKCkgew0KICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMuc2VsZWN0UHJvZHVjdE9wdGlvbnMubGVuZ3RoO2krKyl7DQogICAgICAgICAgICBpZih0aGlzLnNlbGVjdFByb2R1Y3Q9PT10aGlzLnNlbGVjdFByb2R1Y3RPcHRpb25zW2ldLnNwdUNvZGUpew0KICAgICAgICAgICAgICAgIHRoaXMuYWRkQ291cG9uRm9ybS51c2VSYW5nZU5hbWUgPSB0aGlzLnNlbGVjdFByb2R1Y3RPcHRpb25zW2ldLnNwdU5hbWUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgdGhpcy5hZGRDb3Vwb25Gb3JtLnVzZVJhbmdlQ29kZSA9IHRoaXMuc2VsZWN0UHJvZHVjdA0KICAgICAgdGhpcy5zZWxlY3RQcm9kdWN0ID0ge30NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Addstaff.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Addstaff.vue","sourceRoot":"src/components/marketing","sourcesContent":["<template>\r\n  <el-card class=\"form-container\" shadow=\"never\">\r\n    <el-form :model=\"employeeInformation\"\r\n             :rules=\"rules\"\r\n             ref=\"couponFrom\"\r\n             label-width=\"150px\"\r\n             size=\"small\">\r\n      <el-form-item label=\"员工名称：\" prop=\"name\">\r\n        <el-input  v-model=\"employeeInformation.name\" class=\"input-width\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"邮箱：\" prop=\"email\">\r\n        <el-input  v-model=\"employeeInformation.email\" class=\"input-width\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"联系方式：\" prop=\"address\">\r\n        <el-input v-model=\"employeeInformation.address\" placeholder=\"\" class=\"input-width\">\r\n        </el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"备注：\">\r\n        <el-input\r\n          class=\"input-width\"\r\n          type=\"textarea\"\r\n          :rows=\"5\"\r\n          placeholder=\"请输入内容\"\r\n          v-model=\"addCouponForm.note\">\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" v-if=\"arr.includes('MARKETING_CREATE_COUPON')\" @click=\"handleSubmit()\">提交</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport { addCoupon } from '../../api/marketing'\r\nimport { getAllCategoryTree,getProductByKeyWord } from '@/api/product'\r\nimport {test} from \"../../api/admin\";\r\nexport default {\r\n  name: 'Addstaff',\r\n  data () {\r\n    return {\r\n        arr:[],\r\n        rules: {\r\n            name: [\r\n                {required: true, message: '请输入员工名称', trigger: 'blur'},\r\n                {min: 2, max: 140, message: '长度在 2 到 140 个字符', trigger: 'blur'}\r\n            ],\r\n          email: [ { required: true, message: \"请输入邮箱\", trigger: \"blur\" },\r\n                   { pattern:/^([0-9A-Za-z\\-_\\.]+)@([0-9a-z]+\\.[a-z]{2,3}(\\.[a-z]{2})?)$/g, message: \"请输入正确的邮箱\", trigger: \"blur\"}\r\n            ],\r\n            amount: [\r\n                {type: 'number',required: true,message: '面值只能是数值，限2位小数',trigger: 'blur'}\r\n            ],\r\n            minAmount: [\r\n                {type: 'number',required: true,message: '只能输入正整数',trigger: 'blur'}\r\n            ]\r\n        },\r\n      useTypeOptions: [\r\n        {\r\n          label: '门店主管',\r\n          value: 1\r\n        },\r\n        {\r\n          label: '正式员工',\r\n          value: 2\r\n        },\r\n        {\r\n          label: '实习员工',\r\n          value: 3\r\n        }\r\n      ],\r\n        labelOptions:[\r\n            {\r\n                label:'注册',\r\n                value:'register'\r\n            },\r\n            {\r\n                label:'购物',\r\n                value:'shopping'\r\n            }\r\n        ],\r\n      typeOptions: [\r\n        {\r\n          label: '用户领取',\r\n          value: 1\r\n        },\r\n        {\r\n          label: '后台赠送',\r\n          value: 2\r\n        },\r\n      ],\r\n      statusOptions: [\r\n        {\r\n          label: '上线',\r\n          value: 1\r\n        },\r\n        {\r\n          label: '下线',\r\n          value: 2\r\n        }\r\n      ],\r\n      employeeInformation: {\r\n          name:'',\r\n          email:'',\r\n          password:'',\r\n          phone:'',\r\n          address:''\r\n      },\r\n      selectCategory: {\r\n          categoryCode:'',\r\n          categoryName: ''\r\n      },\r\n      selectProduct: {},\r\n      categoryOptions: [],\r\n        selectProductLoading: false,\r\n        selectProductOptions : []\r\n\r\n    }\r\n  },\r\n  mounted(){\r\n      this.handleShowButton();\r\n      this.handleGetCategoryList();\r\n  },\r\n  methods: {\r\n    test1(){\r\n      test().then(res => {\r\n        this.$message.success(res);\r\n      })\r\n    },\r\n      handleShowButton(){\r\n          this.arr =  localStorage.getItem(\"ButtonList\");\r\n      },\r\n    handleSubmit () {\r\n      let params = this.addCouponForm\r\n      console.log('kkan')\r\n      console.log(params)\r\n      addCoupon(params).then(res => {\r\n        if (res.code === 0) {\r\n          this.$message({\r\n            message: '新增成功',\r\n            type: 'success'\r\n          })\r\n        } else {\r\n          this.$message({\r\n            message: '添加失败',\r\n            type: 'fail'\r\n          })\r\n        }\r\n      })\r\n    },\r\n    handleGetCategoryList(){\r\n        getAllCategoryTree().then(res=>{\r\n                let list = res.data;\r\n                this.categoryOptions = [];\r\n                for (let i = 0; i < list.length; i++) {\r\n                    let children = [];\r\n                    if (list[i].children != null && list[i].children.length > 0) {\r\n                        for (let j = 0; j < list[i].children.length; j++) {\r\n                            children.push({label: list[i].children[j].categoryName, value: list[i].children[j].categoryCode});\r\n                        }\r\n                    }\r\n                    this.categoryOptions.push({label: list[i].categoryName, value: list[i].categoryCode, children: children});\r\n                }\r\n        })\r\n    },\r\n    searchProductMethod (query) {\r\n      if (query !== '') {\r\n        this.selectProductLoading = true\r\n        // 通过商品名称或spuCode搜索商品\r\n          let params= \"keyWord=\"+query\r\n          getProductByKeyWord(params).then(res=>{\r\n              this.selectProductLoading=false;\r\n              let productList = res.data;\r\n              for(let i=0;i<productList.length;i++){\r\n                  let item = productList[i];\r\n                  this.selectProductOptions.push({spuCode:item.spuCode,spuName:item.spuName});\r\n\r\n              }\r\n              console.log(this.selectProductOptions)\r\n          })\r\n      } else {\r\n        this.selectProductOptions = []\r\n      }\r\n    },\r\n    handleAddCategory () {\r\n      this.addCouponForm.useRangeCode = this.selectCategory[1]\r\n        console.log(this.selectCategory[1])\r\n        for (let i = 0; i < this.categoryOptions.length; i++) {\r\n            if (this.categoryOptions[i].value === this.selectCategory[0]) {\r\n                for (let j = 0; j < this.categoryOptions[i].children.length; j++) {\r\n                    if (this.categoryOptions[i].children[j].value === this.selectCategory[1]) {\r\n                        this.addCouponForm.useRangeName = this.categoryOptions[i].children[j].label;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        console.log(this.addCouponForm)\r\n    },\r\n    handleAddProduct () {\r\n        for(let i=0;i<this.selectProductOptions.length;i++){\r\n            if(this.selectProduct===this.selectProductOptions[i].spuCode){\r\n                this.addCouponForm.useRangeName = this.selectProductOptions[i].spuName\r\n            }\r\n        }\r\n      this.addCouponForm.useRangeCode = this.selectProduct\r\n      this.selectProduct = {}\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .input-width {\r\n    width: 80%;\r\n  }\r\n  .form-container{\r\n    width: 70%;\r\n    margin-left: 20%;\r\n    text-align: left;\r\n  }\r\n</style>\r\n"]}]}
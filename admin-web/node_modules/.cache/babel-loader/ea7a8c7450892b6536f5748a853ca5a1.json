{"remainingRequest":"C:\\system\\admin-web\\node_modules\\babel-loader\\lib\\index.js!C:\\system\\admin-web\\src\\utils\\api.js","dependencies":[{"path":"C:\\system\\admin-web\\src\\utils\\api.js","mtime":1585214203490},{"path":"C:\\system\\admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\system\\admin-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheCBmcm9tICdheGlvcyc7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXVpJzsKCnZhciBfYXhpb3MgPSBheC5jcmVhdGUoewogIGJhc2VVUkw6ICdodHRwOi8vbG9jYWxob3N0OjgwODAnLAogIHRpbWVvdXQ6IDEwMDAwCn0pOwoKX2F4aW9zLmRlZmF1bHRzLmhlYWRlcnMucG9zdFsnQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04JzsKX2F4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSAnaHR0cDovL2xvY2FsaG9zdDo4MDgwLyc7Cl9heGlvcy5kZWZhdWx0cy53aXRoQ3JlZGVudGlhbHMgPSBmYWxzZTsKX2F4aW9zLmRlZmF1bHRzLndpdGhDcmVkZW50aWFscyA9IGZhbHNlOwoKX2F4aW9zLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy/lsIZ0b2tlbuS/neWtmOWIsOS6hmxvY2FsU3RvcmFnZe+8jOWwhuWFtua3u+WKoOWIsOivt+axguWktAogIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSkgewogICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSk7CgpfYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAoc3VjY2VzcykgewogIHJldHVybiBzdWNjZXNzOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBpZiAoZXJyb3IgJiYgZXJyb3IucmVzcG9uc2UpIHsKICAgIHN3aXRjaCAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzKSB7CiAgICAgIGNhc2UgNDAwOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn6ZSZ6K+v6K+35rGCJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDAxOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5pyq5o6I5p2D77yM6K+36YeN5paw55m75b2VJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDAzOgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn5p2D6ZmQ5LiN6Laz5ouS57ud6K6/6ZeuJzsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDA0OgogICAgICAgIGVycm9yLm1lc3NhZ2UgPSAn6K+35rGC6ZSZ6K+vLOacquaJvuWIsOivpei1hOa6kCc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQwNToKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+ivt+axguaWueazleacquWFgeiuuCc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQwODoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+ivt+axgui2heaXtic7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwMDoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+acjeWKoeWZqOerr+WHuumUmSc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwMToKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+e9kee7nOacquWunueOsCc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwMjoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+e9kee7nOmUmeivryc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwMzoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+acjeWKoeS4jeWPr+eUqCc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwNDoKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ+e9kee7nOi2heaXtic7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwNToKICAgICAgICBlcnJvci5tZXNzYWdlID0gJ2h0dHDniYjmnKzkuI3mlK/mjIHor6Xor7fmsYInOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICBlcnJvci5tZXNzYWdlID0gIlx1OEZERVx1NjNBNVx1OTUxOVx1OEJFRiIuY29uY2F0KGVycm9yLnJlc3BvbnNlLnN0YXR1cyk7CiAgICB9CgogICAgdmFyIGVycm9yRGF0YSA9IHsKICAgICAgc3RhdHVzOiBlcnJvci5yZXNwb25zZS5zdGF0dXMsCiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsCiAgICAgIGNvbmZpZzogZXJyb3IucmVzcG9uc2UuY29uZmlnCiAgICB9OwogICAgTWVzc2FnZS5lcnJvcihlcnJvckRhdGEubWVzc2FnZSk7CiAgICBjb25zb2xlLmxvZygn57uf5LiA6ZSZ6K+v5aSE55CGOiAnLCBlcnJvckRhdGEpOwogIH0KCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CgpleHBvcnQgdmFyIHBvc3RBbmRHZXQgPSBmdW5jdGlvbiBwb3N0QW5kR2V0KCkgewogIHJldHVybiBfYXhpb3M7Cn07"},{"version":3,"sources":["C:/system/admin-web/src/utils/api.js"],"names":["ax","Message","_axios","create","baseURL","timeout","defaults","headers","post","withCredentials","interceptors","request","use","config","localStorage","getItem","Authorization","response","success","error","status","message","errorData","console","log","Promise","reject","postAndGet"],"mappings":"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","sourcesContent":["import ax from 'axios'\r\nimport {Message} from 'element-ui';\r\n\r\nconst _axios =ax.create({\r\n  baseURL:  'http://localhost:8080',\r\n  timeout: 10000,\r\n})\r\n_axios.defaults.headers.post['Content-Type'] = 'application/json;charset=UTF-8'\r\n_axios.defaults.baseURL = 'http://localhost:8080/'\r\n_axios.defaults.withCredentials = false\r\n_axios.defaults.withCredentials = false\r\n\r\n_axios.interceptors.request.use(\r\n  config => {\r\n    //将token保存到了localStorage，将其添加到请求头\r\n    if (localStorage.getItem(\"token\")) {\r\n      config.headers.Authorization = localStorage.getItem(\"token\")\r\n    }\r\n    return config\r\n  }\r\n)\r\n_axios.interceptors.response.use(function (success) {\r\n  return success;\r\n},function (error){\r\n  if (error && error.response) {\r\n    switch (error.response.status) {\r\n      case 400:\r\n        error.message = '错误请求';\r\n        break;\r\n      case 401:\r\n        error.message = '未授权，请重新登录';\r\n        break;\r\n      case 403:\r\n        error.message = '权限不足拒绝访问';\r\n        break;\r\n      case 404:\r\n        error.message = '请求错误,未找到该资源';\r\n        break;\r\n      case 405:\r\n        error.message = '请求方法未允许';\r\n        break;\r\n      case 408:\r\n        error.message = '请求超时';\r\n        break;\r\n      case 500:\r\n        error.message = '服务器端出错';\r\n        break;\r\n      case 501:\r\n        error.message = '网络未实现';\r\n        break;\r\n      case 502:\r\n        error.message = '网络错误';\r\n        break;\r\n      case 503:\r\n        error.message = '服务不可用';\r\n        break;\r\n      case 504:\r\n        error.message = '网络超时';\r\n        break;\r\n      case 505:\r\n        error.message = 'http版本不支持该请求';\r\n        break;\r\n      default:\r\n        error.message = `连接错误${error.response.status}`;\r\n    }\r\n    let errorData = {\r\n      status: error.response.status,\r\n      message: error.message,\r\n      config: error.response.config\r\n    };\r\n    Message.error(errorData.message)\r\n    console.log('统一错误处理: ', errorData)\r\n  }\r\n  return Promise.reject(error);\r\n})\r\n\r\nexport const postAndGet = () =>{\r\n  return _axios;\r\n}\r\n\r\n\r\n\r\n"]}]}